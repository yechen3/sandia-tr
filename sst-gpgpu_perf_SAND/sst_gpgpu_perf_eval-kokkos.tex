The functional correctness of the model was validated using the unit tests from
the Kokkos Kernels suite~\cite{kokkos_kernels}. The unit tests were compiled
using the parameters in Table~\ref{tab:kokkos_build}. The target node
architecture was assumed to be an Intel Broadwell attached to an NVIDIA Pascal
GPUs. This target architecture was chosen based on hardware availability,
specifically Sandia's Doom cluster, which is based on the CTS-1
procurement. The SST model is derived from Figure~\ref{fig:sst_volta} using the
model parameters in Table`\ref{tab:p100_params} to represent an NVIDIA P100
SXM2~\cite{p100}.

    \begin{table}[!htbp]
        \centering
        \setlength{\abovecaptionskip}{6pt plus 1pt minus 1pt}
        \captionsetup{width=.75\textwidth}
        \caption{Kokkos Build Parameters}
        \begin{tabular}{|l|}
            \hline
            KOKKOSKERNELS\_SCALARS=double          \\ \hline
            KOKKOSKERNELS\_LAYOUTS=left            \\ \hline
            KOKKOSKERNELS\_ORDINALS=int            \\ \hline
            KOKKOSKERNELS\_OFFSETS=int             \\ \hline
            KOKKOSKERNELS\_DEVICES=Cuda     	   \\ \hline
            KOKKOS\_ARCH=Pascal60              	   \\ \hline
         \end{tabular}
        \label{tab:kokkos_build}
    \end{table}

    \begin{table}[!htbp]
      \centering
      \setlength{\abovecaptionskip}{6pt plus 1pt minus 1pt}
      \captionsetup{width=.75\textwidth}
      \caption{Broadwell/P100 Model Parameters}
      \subtable[CPU]{%
         \begin{tabular}{|l|c|}
            \hline
            Clock                   & 1200MHz  \\ \hline
            DDR Clock               & 2400     \\ \hline
            DDR Capactiy            & 16384MiB \\ \hline
            Mesh Frequency          & 800MHz   \\ \hline
            Mesh Input Ports        & 1        \\ \hline
            Mesh Output Ports       & 1        \\ \hline
            Data Link Latency       & 23840ps  \\ \hline
            Command Link Latency    & 23840ps  \\ \hline
         \end{tabular}
      }
      \hspace{1cm}
      \subtable[GPU]{%
         \begin{tabular}{|l|c|}
            \hline
            Clock                 & 1328MHz          \\ \hline
            SMs                   & 56               \\ \hline
            L2 Slices             & 8                \\ \hline
            L2 Capactiy           & 512KiB per slice \\ \hline
            HBM Capacity          & 16384MiB         \\ \hline
            HBM Stacks            & 4                \\ \hline
            Crossbar Frequency    & 1000MHz          \\ \hline
            Crossbar Input Ports  & 2                \\ \hline
            Crossbar Output Ports & 1                \\ \hline
         \end{tabular}
      }
      \label{tab:p100_params}
   \end{table}

Table~\ref{tab:kokkos_tests} shows the Kokkos Kernels unit tests that were run.
With the current implementation of SST-GPU, 46 out of 94 tests run to completion
and pass. The passing tests are highlighted in green. Of the remaining tests,
red tests fail in both SST-GPGPU and GPGPU-Sim due to the wrong value from gpu simulation. The tests in pink
failed previously because the PTX parser cannot locate a post-dominator. Now since
the the target configuration for Kokkos compilation has been changed 
to aiming at only GPUs, these tests no longer exist. There
are plans to work with the Kokkos Kernels developers to find a solution. The
tests in yellow sometimes fail because of a bug in the SST that randomly causes double free. 
The SST developers should be able to locate the problem. The tests in blue did not exist previously but now fail 
because the current SST does not support cudaCreateTextureObject function. 
The three remaining tests, in purple, run to completion
and pass in GPGPU-Sim but have run for more than 7 days without completion in SST. It is believed that they would complete successfully if given more run time.

   \begin{table}[!htbp]
      \centering
      \setlength{\belowcaptionskip}{6pt plus 1pt minus 1pt}
      \captionsetup{width=.75\textwidth}
      \caption{Kokkos Kernels Unit Test Results}
      \resizebox{\columnwidth}{!}{
         \begin{tabular}{|>{\columncolor[HTML]{34FF34}}l |l|}
            \hline
            1                          & abs\_double                                                         \\ \hline
            2                          & abs\_mv\_double                                                     \\ \hline
            3                          & asum\_double                                                        \\ \hline
            4                          & axpby\_double                                                       \\ \hline
            5                          & axpby\_mv\_double                                                   \\ \hline
            6                          & axpy\_double                                                        \\ \hline
            7                          & axpy\_mv\_double                                                    \\ \hline
            8                          & dot\_double                                                         \\ \hline
            9                          & dot\_mv\_double                                                     \\ \hline
            10                         & mult\_double                                                        \\ \hline
            11                         & mult\_mv\_double                                                    \\ \hline
            12                         & nrm1\_double                                                        \\ \hline
            13                         & nrm1\_mv\_double                                                    \\ \hline
            14                         & nrm2\_double                                                        \\ \hline
            15                         & nrm2\_mv\_double                                                    \\ \hline
            16                         & nrm2\_squared\_double                                               \\ \hline
            17                         & nrm2\_squared\_mv\_double                                           \\ \hline
            \cellcolor[HTML]{FE0000}18 & nrminf\_double                                                      \\ \hline
            \cellcolor[HTML]{FE0000}19 & nrminf\_mv\_double                                                  \\ \hline
            \cellcolor[HTML]{FE0000}20 & reciprocal\_double                                                  \\ \hline
            \cellcolor[HTML]{FE0000}21 & reciprocal\_mv\_double                                              \\ \hline
            22                         & scal\_double                                                        \\ \hline
            23                         & scal\_mv\_double                                                    \\ \hline
            24                         & sum\_double                                                         \\ \hline
            25                         & sum\_mv\_double                                                     \\ \hline
            26                         & update\_double                                                      \\ \hline
            27                         & update\_mv\_double                                                  \\ \hline
            \cellcolor[HTML]{D1B3FF}28 & gemv\_double                                                        \\ \hline
            \cellcolor[HTML]{D1B3FF}29 & gemm\_double                                                        \\ \hline
            \cellcolor[HTML]{FF00FF}30 & sparse\_spgemm\_double\_int\_int\_TestExecSpace                     \\ \hline
            \cellcolor[HTML]{FF00FF}31 & sparse\_spadd\_double\_int\_int\_TestExecSpace                      \\ \hline
            \cellcolor[HTML]{FF00FF}32 & sparse\_gauss\_seidel\_double\_int\_int\_TestExecSpace              \\ \hline
            \cellcolor[HTML]{FF00FF}33 & sparse\_block\_gauss\_seidel\_double\_int\_int\_TestExecSpace       \\ \hline
            \cellcolor[HTML]{FF00FF}34 & sparse\_crsmatrix\_double\_int\_int\_TestExecSpace                  \\ \hline
            \cellcolor[HTML]{FF00FF}35 & sparse\_blkcrsmatrix\_double\_int\_int\_TestExecSpace               \\ \hline
            \cellcolor[HTML]{FF00FF}36 & sparse\_replaceSumIntoLonger\_double\_int\_int\_TestExecSpace       \\ \hline
            \cellcolor[HTML]{FF00FF}37 & sparse\_replaceSumInto\_double\_int\_int\_TestExecSpace             \\ \hline
            \cellcolor[HTML]{FF00FF}38 & graph\_graph\_color\_double\_int\_int\_TestExecSpace                \\ \hline
            \cellcolor[HTML]{FF00FF}39 & graph\_graph\_color\_deterministic\_double\_int\_int\_TestExecSpace \\ \hline
            \cellcolor[HTML]{FF00FF}40 & graph\_graph\_color\_d2\_double\_int\_int\_TestExecSpace            \\ \hline
            \cellcolor[HTML]{FF00FF}41 & common\_ArithTraits                                                 \\ \hline
            42                         & common\_set\_bit\_count                                             \\ \hline
            43                         & common\_ffs                                                         \\ \hline
            \cellcolor[HTML]{FE0000}44 & batched\_scalar\_serial\_set\_double\_double                        \\ \hline
            45                         & batched\_scalar\_serial\_scale\_double\_double                      \\ \hline
            46                         & batched\_scalar\_serial\_gemm\_nt\_nt\_double\_double               \\ \hline
            47                         & batched\_scalar\_serial\_gemm\_t\_nt\_double\_double                \\ \hline
            \end{tabular}

            \hspace{1cm}

            \begin{tabular}{|>{\columncolor[HTML]{34FF34}}l |l|}
            \hline
            48                         & batched\_scalar\_serial\_gemm\_nt\_t\_double\_double                \\ \hline
            49                         & batched\_scalar\_serial\_gemm\_t\_t\_double\_double                 \\ \hline
            50                         & batched\_scalar\_serial\_trsm\_l\_l\_nt\_u\_double\_double          \\ \hline
            \cellcolor[HTML]{FE0000}51 & batched\_scalar\_serial\_trsm\_l\_l\_nt\_n\_double\_double          \\ \hline
            52                         & batched\_scalar\_serial\_trsm\_l\_u\_nt\_u\_double\_double          \\ \hline
            \cellcolor[HTML]{FE0000}53 & batched\_scalar\_serial\_trsm\_l\_u\_nt\_n\_double\_double          \\ \hline
            54                         & batched\_scalar\_serial\_trsm\_r\_u\_nt\_u\_double\_double          \\ \hline
            \cellcolor[HTML]{FE0000}55 & batched\_scalar\_serial\_trsm\_r\_u\_nt\_n\_double\_double          \\ \hline
            \cellcolor[HTML]{FF00FF}56 & batched\_scalar\_serial\_trsm\_l\_l\_t\_u\_double\_double           \\ \hline
            \cellcolor[HTML]{FF00FF}57 & batched\_scalar\_serial\_trsm\_l\_l\_t\_n\_double\_double           \\ \hline
            \cellcolor[HTML]{FF00FF}58 & batched\_scalar\_serial\_trsm\_l\_u\_t\_u\_double\_double           \\ \hline
            \cellcolor[HTML]{FF00FF}59 & batched\_scalar\_serial\_trsm\_l\_u\_t\_n\_double\_double           \\ \hline
            60                         & batched\_scalar\_serial\_gemv\_nt\_double\_double                   \\ \hline
            61                         & batched\_scalar\_serial\_gemv\_t\_double\_double                    \\ \hline
            62                         & batched\_scalar\_serial\_trsv\_l\_nt\_u\_double\_double             \\ \hline
            \cellcolor[HTML]{FE0000}63 & batched\_scalar\_serial\_trsv\_l\_nt\_n\_double\_double             \\ \hline
            64                         & batched\_scalar\_serial\_trsv\_u\_nt\_u\_double\_double             \\ \hline
            \cellcolor[HTML]{FE0000}65 & batched\_scalar\_serial\_trsv\_u\_nt\_n\_double\_double             \\ \hline
            \cellcolor[HTML]{FE0000}66 & batched\_scalar\_team\_set\_double\_double                          \\ \hline
            67                         & batched\_scalar\_team\_scale\_double\_double                        \\ \hline
            \cellcolor[HTML]{F8FF00}68 & batched\_scalar\_team\_gemm\_nt\_nt\_double\_double                 \\ \hline
            \cellcolor[HTML]{F8FF00}69 & batched\_scalar\_team\_gemm\_t\_nt\_double\_double                  \\ \hline
            \cellcolor[HTML]{F8FF00}70 & batched\_scalar\_team\_gemm\_nt\_t\_double\_double                  \\ \hline
            71                         & batched\_scalar\_team\_gemm\_t\_t\_double\_double                   \\ \hline
            72                         & batched\_scalar\_team\_trsm\_l\_l\_nt\_u\_double\_double            \\ \hline
            73                         & batched\_scalar\_team\_trsm\_l\_l\_nt\_n\_double\_double            \\ \hline
            74                         & batched\_scalar\_team\_trsm\_l\_u\_nt\_u\_double\_double            \\ \hline
            \cellcolor[HTML]{FE0000}75 & batched\_scalar\_team\_trsm\_l\_u\_nt\_n\_double\_double            \\ \hline
            76                         & batched\_scalar\_team\_trsm\_r\_u\_nt\_u\_double\_double            \\ \hline
            \cellcolor[HTML]{FE0000}77 & batched\_scalar\_team\_trsm\_r\_u\_nt\_n\_double\_double            \\ \hline
            \cellcolor[HTML]{FF00FF}78 & batched\_scalar\_team\_trsm\_l\_l\_t\_u\_double\_double             \\ \hline
            \cellcolor[HTML]{FF00FF}79 & batched\_scalar\_team\_trsm\_l\_l\_t\_n\_double\_double             \\ \hline
            \cellcolor[HTML]{FF00FF}80 & batched\_scalar\_team\_trsm\_l\_u\_t\_u\_double\_double             \\ \hline
            \cellcolor[HTML]{FF00FF}81 & batched\_scalar\_team\_trsm\_l\_u\_t\_n\_double\_double             \\ \hline
            82                         & batched\_scalar\_team\_gemv\_nt\_double\_double                     \\ \hline
            83                         & batched\_scalar\_team\_gemv\_t\_double\_double                      \\ \hline
            \cellcolor[HTML]{F8FF00}84 & batched\_scalar\_serial\_lu\_double                                 \\ \hline
            \cellcolor[HTML]{FF00FF}85 & batched\_scalar\_serial\_inverselu\_double                          \\ \hline
            \cellcolor[HTML]{FF00FF}86 & batched\_scalar\_serial\_solvelu\_double                            \\ \hline
            \cellcolor[HTML]{D1B3FF}87 & batched\_scalar\_team\_lu\_double                                   \\ \hline
            \cellcolor[HTML]{FF00FF}88 & batched\_scalar\_team\_inverselu\_double                            \\ \hline
            \cellcolor[HTML]{FF00FF}89 & batched\_scalar\_team\_solvelu\_double                              \\ \hline
            \cellcolor[HTML]{0000FF}90 & sparse\_spmv\_double\_int\_int\_TestExecSpace                            \\ \hline
	        \cellcolor[HTML]{0000FF}91 & sparse\_spmv\_mv\_double\_int\_int\_LayoutLeft\_TestExecSpace              \\ \hline
	        \cellcolor[HTML]{0000FF}92 & sparse\_spmv\_mv\_double\_int\_int\_LayoutRight\_TestExecSpace             \\ \hline
	        \cellcolor[HTML]{0000FF}93 & sparse\_trsv\_mv\_double\_int\_int\_LayoutLeft\_TestExecSpace              \\ \hline
	        \cellcolor[HTML]{0000FF}94 & sparse\_trsv\_mv\_double\_int\_int\_LayoutRight\_TestExecSpace             \\ \hline 
	\end{tabular}}
      \label{tab:kokkos_tests}
   \end{table}


